<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
</head>
<body>
<script>
    const params = new URLSearchParams(document.location.search);
    const config = JSON.parse(params.get("config"));

    var domain = params.get("domain");
    var options = {
        roomName: params.get("room"),
        configOverwrite: config
    };

    var externalAPIScript = document.createElement('script');
    externalAPIScript.src = `https://${domain}/external_api.js`;
    externalAPIScript.type = "text/javascript";
    externalAPIScript.onload = function(){
        var api = new JitsiMeetExternalAPI(domain, options);
    }
    document.getElementsByTagName('head')[0].appendChild(externalAPIScript);
</script>
</body>
</html>
